exports.id=780,exports.ids=[780],exports.modules={7264:e=>{e.exports={style:{fontFamily:"'__Kalam_dd6f7c', '__Kalam_Fallback_dd6f7c'",fontWeight:700,fontStyle:"normal"},className:"__className_dd6f7c"}},2857:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},9097:(e,t,s)=>{Promise.resolve().then(s.bind(s,3174))},8428:(e,t,s)=>{"use strict";var r=s(4767);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},3267:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let r=s(9694);s(5344),s(3729);let a=r._(s(546));function l(e,t){let s={loading:e=>{let{error:t,isLoading:s,pastDelay:r}=e;return null}};return"function"==typeof e&&(s.loader=e),(0,a.default)({...s,...t})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8354:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let r=s(3689);function a(e){let{reason:t,children:s}=e;throw new r.BailoutToCSRError(t)}},546:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let r=s(5344),a=s(3729),l=s(8354);function n(e){var t;return{default:null!=(t=null==e?void 0:e.default)?t:e}}let i={loader:()=>Promise.resolve(n(()=>null)),loading:null,ssr:!0},o=function(e){let t={...i,...e},s=(0,a.lazy)(()=>t.loader().then(n)),o=t.loading;function c(e){let n=o?(0,r.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,i=t.ssr?(0,r.jsx)(s,{...e}):(0,r.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(s,{...e})});return(0,r.jsx)(a.Suspense,{fallback:n,children:i})}return c.displayName="LoadableComponent",c}},3174:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(5344),a=s(5814);function l({children:e}){return r.jsx(a.H,{children:e})}},8490:(e,t,s)=>{"use strict";s.d(t,{v:()=>c});var r=s(5344),a=s(3729),l=s(4276),n=s(3267),i=s.n(n);s(5474);let o=i()(async()=>{},{loadableGenerated:{modules:["C:\\Users\\81906\\Desktop\\programing\\sns_calendar2\\src\\components\\articles\\ArticleForm.tsx -> react-simplemde-editor"]},ssr:!1});function c({initialData:e,onSubmit:t,platforms:s,onSuccess:n,onError:i}){let[c,u]=(0,a.useState)(""),[d,m]=(0,a.useState)(""),[f,h]=(0,a.useState)(""),[g,x]=(0,a.useState)(null);(0,a.useEffect)(()=>{e?(u(e.title),m(e.content),h(e.platform_id||""),x(e.published_at?new Date(e.published_at):null)):(u(""),m(""),h(s.length>0?s[0].magazine_id:""),x(null))},[e,s]);let p=(0,a.useMemo)(()=>({spellChecker:!1,placeholder:"Write your article in Markdown..."}),[]),b=async r=>{r.preventDefault();let a=s.find(e=>e.magazine_id===f),l={title:c,content:d,platform_id:f,magazine_name:a?a.magazine_name:"",status:"draft"};g&&(l.published_at=g.toISOString());try{let r=await t(e?{...l,article_id:e.article_id}:l);return n?.(),e||(u(""),m(""),h(s.length>0?s[0].magazine_id:""),x(null)),r}catch(e){i?.(e instanceof Error?e.message:"Failed to save article")}};return(0,r.jsxs)("form",{onSubmit:b,className:"space-y-4 bg-white p-6 rounded-lg shadow-sm",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title"}),r.jsx("input",{id:"title",className:"p-2 block w-full rounded-md border-gray-300 shadow-sm focus:outline-none focus:border-teal-800 focus:ring-1 focus:ring-teal-800 mt-1",value:c,onChange:e=>u(e.target.value)})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700",children:"Content (Markdown supported)"}),r.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Use the toolbar to format your Markdown."}),r.jsx(o,{id:"content",value:d,onChange:m,options:p})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"platform",className:"block text-sm font-medium text-gray-700",children:"Platform"}),r.jsx("select",{id:"platform",className:"p-2 block w-full rounded-md border-gray-300 shadow-sm focus:outline-none focus:border-teal-800 focus:ring-1 focus:ring-teal-800 mt-1",value:f,onChange:e=>h(e.target.value),children:s.map(e=>r.jsx("option",{value:e.magazine_id,children:e.magazine_name},e.magazine_id))})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"published_at",className:"block text-sm font-medium text-gray-700",children:"Published At"}),r.jsx("input",{type:"datetime-local",id:"published_at",className:"p-2 block w-full rounded-md border-gray-300 shadow-sm focus:outline-none focus:border-teal-800 focus:ring-1 focus:ring-teal-800 mt-1",value:g?(0,l.L9)(g):"",onChange:e=>x(e.target.value?new Date(e.target.value):null)})]}),r.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-teal-800 hover:bg-teal-800 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-800",children:e?"Update Article":"Create Article"})]})}},4573:(e,t,s)=>{"use strict";s.d(t,{A:()=>u});var r=s(5344),a=s(7264),l=s.n(a),n=s(3729),i=s(8428),o=s(5814),c=s(8704);function u({children:e}){let{user:t}=(0,n.useContext)(o.V),s=(0,i.useRouter)(),[a,u]=(0,n.useState)(!1),d=async()=>{await c.O.auth.signOut(),s.push("/login")},m=t?.user_metadata?.picture,f=!!m,h=t&&t.email?t.email.charAt(0).toUpperCase():"";return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("nav",{className:"shadow-sm",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:(0,r.jsxs)("button",{onClick:()=>s.push("/"),className:"flex items-center space-x-2 focus:outline-none hover:opacity-80",children:[r.jsx("img",{src:"/sekai-message-logo.svg",alt:"Logo",className:"h-8 w-8 object-cover rounded-full"}),r.jsx("span",{className:`text-xl font-semibold ${l().className}`,children:"SEKAI NI TODOKERU MESSAGES"})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 relative",children:[r.jsx("button",{onClick:()=>s.push("/sns"),className:"text-gray-700 hover:text-gray-900 focus:outline-none",children:"SNS"}),r.jsx("button",{onClick:()=>s.push("/articles"),className:"text-gray-700 hover:text-gray-900 focus:outline-none",children:"Articles"}),!t&&r.jsx("button",{onClick:()=>s.push("/login"),className:"text-gray-700 hover:text-gray-900 focus:outline-none",children:"Login"}),t&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("button",{onClick:()=>u(!a),className:"flex items-center justify-center w-10 h-10 rounded-full bg-gray-200 hover:bg-gray-300 relative focus:outline-none",children:f&&m?r.jsx("img",{src:m,alt:"User Avatar",className:"w-10 h-10 rounded-full object-cover"}):r.jsx("span",{className:"text-gray-700 font-bold",children:h})}),a&&r.jsx("div",{className:"absolute top-12 right-0 bg-white border rounded shadow-lg py-1 z-50 w-32",children:r.jsx("button",{onClick:d,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 focus:outline-none",children:"Logout"})})]})]})]})})}),r.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e})]})}},5814:(e,t,s)=>{"use strict";s.d(t,{H:()=>i,V:()=>n});var r=s(5344),a=s(8704),l=s(3729);let n=(0,l.createContext)({user:null});function i({children:e}){let[t,s]=(0,l.useState)(null);return(0,l.useEffect)(()=>{a.O.auth.getUser().then(({data:{user:e}})=>s(e));let{data:e}=a.O.auth.onAuthStateChange((e,t)=>{s(t?.user??null)});return()=>{e.subscription.unsubscribe()}},[]),r.jsx(n.Provider,{value:{user:t},children:e})}},2184:(e,t,s)=>{"use strict";s.d(t,{l:()=>d});var r=s(3729),a=s(3806),l=s(8704);async function n(e){let{data:t,error:s}=await l.O.from("articles").select("*").eq("author_id",e).order("published_at",{ascending:!1});if(s)throw s;return t}async function i(e,t){let{data:s,error:r}=await l.O.from("articles").insert({...e,author_id:t}).select().single();if(console.log(e),console.log(t),console.log(r),r)throw r;return s}async function o(e,t){let{data:s,error:r}=await l.O.from("articles").update({...e,author_id:t}).eq("article_id",e.article_id).eq("author_id",t).select().single();if(r)throw r;return s}async function c(e,t){let{error:s}=await l.O.from("articles").delete().eq("article_id",e).eq("author_id",t);if(s)throw s}var u=s(5814);function d(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0),{showToast:d}=(0,a.p)(),{user:m}=(0,r.useContext)(u.V);async function f(e){try{let s=await n(e);t(s)}catch(e){d(e instanceof Error?e.message:"Failed to load articles","error")}finally{l(!1)}}async function h(s){if(!m)throw d("Please log in to create articles","error"),Error("Not logged in");console.log(s);try{let r=await i({...s,user_id:m.id},m.id);return t([r,...e]),d("Article created successfully","success"),r}catch(e){throw d(e instanceof Error?e.message:"Failed to create article","error"),e}}async function g(s){if(!m)throw d("Please log in to update articles","error"),Error("Not logged in");try{let r=await o(s,m.id);return t(e.map(e=>e.article_id===r.article_id?r:e)),d("Article updated successfully","success"),r}catch(e){throw d(e instanceof Error?e.message:"Failed to update article","error"),e}}async function x(s){if(!m)throw d("Please log in to delete articles","error"),Error("Not logged in");try{await c(s,m.id),t(e.filter(e=>e.article_id!==s)),d("Article deleted successfully","success")}catch(e){throw d(e instanceof Error?e.message:"Failed to delete article","error"),e}}return(0,r.useEffect)(()=>{m?f(m.id):l(!1)},[m]),{articles:e,loading:s,createArticle:h,updateArticle:g,deleteArticle:x}}},4464:(e,t,s)=>{"use strict";s.d(t,{N:()=>l});var r=s(3729),a=s(8704);function l(){let[e,t]=(0,r.useState)([]);return(0,r.useEffect)(()=>{(async function(){let{data:e,error:s}=await a.O.from("magazine_master").select("*");s?console.error("Failed to fetch magazine list:",s.message):e&&t(e)})()},[]),{magazines:e}}},3806:(e,t,s)=>{"use strict";s.d(t,{p:()=>a});var r=s(3729);function a(){let[e,t]=(0,r.useState)({message:"",type:"success",isVisible:!1});return{toast:e,showToast:(0,r.useCallback)((e,s)=>{t({message:e,type:s,isVisible:!0})},[]),hideToast:(0,r.useCallback)(()=>{t(e=>({...e,isVisible:!1}))},[])}}},8704:(e,t,s)=>{"use strict";s.d(t,{O:()=>n});var r=s(6755);let a="https://lqncxiyjgzdpuatbzaoh.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxxbmN4aXlqZ3pkcHVhdGJ6YW9oIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzQ1OTMwMjQsImV4cCI6MjA1MDE2OTAyNH0.6MzhRLgwmDECc63nzV0BUeMqySq2OvwE4B7jCTKEr5Q";if(!a||!l)throw Error("Missing Supabase environment variables");let n=(0,r.eI)(a,l)},4276:(e,t,s)=>{"use strict";function r(e){return e.toISOString().slice(0,16)}function a(e,t,s){if(!t&&!s)return!0;let r=new Date(e);if(r.setHours(0,0,0,0),t&&s){let e=new Date(t),a=new Date(s);return a.setHours(23,59,59,999),r>=e&&r<=a}if(t)return r>=new Date(t);if(s){let e=new Date(s);return e.setHours(23,59,59,999),r<=e}return!0}function l(e){let t=new Date;t.setHours(0,0,0,0);let s=new Date(e);return s.setHours(0,0,0,0),s>=t}s.d(t,{L9:()=>r,Ux:()=>l,XE:()=>a})},4915:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,metadata:()=>u});var r=s(5036),a=s(3640),l=s.n(a);s(4315);let n=(0,s(6843).createProxy)(String.raw`C:\Users\81906\Desktop\programing\sns_calendar2\src\app\AuthClientWrapper.tsx`),{__esModule:i,$$typeof:o}=n,c=n.default,u={title:"SEKAI NI TODOKERU MESSAGES",description:"Manage your social media posts efficiently",icons:{icon:"/favicon.ico"}};function d({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:l().className,children:r.jsx(c,{children:e})})})}},5474:()=>{},4315:()=>{}};